(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{364:function(t,e,n){"use strict";var r=n(66),o=n.n(r);e.a=o.a.create({baseURL:"http://localhost:8000/api",headers:{"Content-type":"application/json"}})},368:function(t,e,n){"use strict";var r=n(23),o=n(24),d=n(364),l=function(){function t(){Object(r.a)(this,t)}return Object(o.a)(t,[{key:"upload",value:function(t,content,e,n,r){var o=new FormData;return o.append("boardTitle",t),o.append("content",content),o.append("userIdx",e),o.append("file",n),d.a.post("/upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:r})}},{key:"getReplyCount",value:function(t){return d.a.get("/board/detail/replyCount/".concat(t))}},{key:"getFiles",value:function(t){return d.a.get("/files/".concat(t))}},{key:"getDetailFile",value:function(t){return d.a.get("/files/detail/".concat(t))}},{key:"getAll",value:function(t){return d.a.get("/board/list",{params:t})}},{key:"get",value:function(t){return d.a.get("/board/list/idx/".concat(t))}},{key:"create",value:function(data){return d.a.post("/board/write",data)}},{key:"delete",value:function(t){return d.a.put("/board/deletion/".concat(t))}},{key:"detail",value:function(t){return d.a.get("/board/detail/".concat(t))}},{key:"update",value:function(t,data){return d.a.put("/board/detail/update/".concat(t),data)}}]),t}();e.a=new l},408:function(t,e,n){var content=n(459);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("71cecfcf",content,!0,{sourceMap:!1})},458:function(t,e,n){"use strict";n(408)},459:function(t,e,n){var r=n(58)(!1);r.push([t.i,".board-title[data-v-586a77ed]{margin:50px 0 30px}.board-info[data-v-586a77ed]{display:flex;align-items:baseline;justify-content:space-between;flex-wrap:wrap;font-weight:300;font-size:14px}.profile-img[data-v-586a77ed]{border-radius:50%;width:40px;height:40px;-o-object-fit:cover;object-fit:cover}.content1[data-v-586a77ed],.content2[data-v-586a77ed]{width:70%;height:70%;background:#e5e5e5;margin:0 auto;line-height:1em}.content1[data-v-586a77ed]{text-align:left}.btns[data-v-586a77ed]{display:flex;flex-wrap:wrap;justify-content:space-between;margin:20px 0}.btn[data-v-586a77ed]{width:60px;height:35px;color:#fff;background:#a30000;font-weight:300;font-size:14px;border:none;box-shadow:none}.reply-container[data-v-586a77ed]{padding:20px 30px 0}.reply-content[data-v-586a77ed]{font-weight:300}.reply-body[data-v-586a77ed]{margin:5px 0 20px 40px}.input-container[data-v-586a77ed]{display:flex;justify-content:center;background:#e5e5e5;padding:30px 0}.reply-input[data-v-586a77ed]{margin-right:10px;resize:none}.divider-row[data-v-586a77ed]{margin:30px 0 0}.text-start[data-v-586a77ed]{float:left}.text-end[data-v-586a77ed]{float:right}.justify-content-md-start[data-v-586a77ed]{float:left}body[data-v-586a77ed]{background:#dcdcdc}.offer-dedicated-nav .nav-link.active[data-v-586a77ed],.offer-dedicated-nav .nav-link[data-v-586a77ed]:focus,.offer-dedicated-nav .nav-link[data-v-586a77ed]:hover{border-color:#3868fb;color:#3868fb}.offer-dedicated-nav .nav-link[data-v-586a77ed]{border-bottom:2px solid #fff;color:#000;padding:16px 0;font-weight:600}.offer-dedicated-nav .nav-item[data-v-586a77ed]{margin:0 37px 0 0}.restaurant-detailed-action-btn[data-v-586a77ed]{margin-top:12px}.restaurant-detailed-header-right .btn-success[data-v-586a77ed]{border-radius:3px;height:45px;margin:-18px 0 18px;min-width:130px;padding:7px}.text-black[data-v-586a77ed]{color:#000}.icon-overlap[data-v-586a77ed]{bottom:-23px;font-size:74px;opacity:.23;position:absolute;right:-32px}.menu-list img[data-v-586a77ed]{width:41px;height:41px;-o-object-fit:cover;object-fit:cover}.restaurant-detailed-header-left img[data-v-586a77ed]{width:88px;height:88px;border-radius:3px;-o-object-fit:cover;object-fit:cover;box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.reviews-members .media .mr-3[data-v-586a77ed]{width:56px;height:56px;-o-object-fit:cover;object-fit:cover}.rounded-pill[data-v-586a77ed]{border-radius:50rem!important}.total-like-user[data-v-586a77ed]{border:2px solid #fff;height:34px;box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important;width:34px}.total-like-user-main a[data-v-586a77ed]{display:inline-block;margin:0 -17px 0 0}.total-like[data-v-586a77ed]{border:1px solid;border-radius:50px;display:inline-block;font-weight:500;height:34px;line-height:33px;padding:0 13px;vertical-align:top}.restaurant-detailed-ratings-and-reviews hr[data-v-586a77ed]{margin:0 -24px}.graph-star-rating-header .star-rating[data-v-586a77ed]{font-size:17px}.rating-list[data-v-586a77ed]{display:inline-flex;margin-bottom:15px;width:100%}.rating-list-left[data-v-586a77ed]{height:16px;line-height:29px;width:10%}.rating-list-center[data-v-586a77ed]{width:80%}.rating-list-right[data-v-586a77ed]{line-height:29px;text-align:right;width:10%}.restaurant-slider-pics[data-v-586a77ed]{bottom:0;font-size:12px;left:0;z-index:999;padding:0 10px}.restaurant-slider-view-all[data-v-586a77ed]{bottom:15px;right:15px;z-index:999}.progress[data-v-586a77ed]{background:#f2f4f8 none repeat scroll 0 0;border-radius:0;height:30px}.text-gray[data-v-586a77ed]{color:grey}.textareas[data-v-586a77ed]{text-align:left;white-space:pre-line;padding:15px}.boardsPic[data-v-586a77ed]{width:100%;height:100%;display:flex;padding:1%;margin:0 auto}.replyBtn[data-v-586a77ed]{border:none}hr[data-v-586a77ed]{background-color:#e5e5e5}",""]),t.exports=r},505:function(t,e,n){"use strict";n.r(e);var r=n(23),o=n(24),d=n(364),l=new(function(){function t(){Object(r.a)(this,t)}return Object(o.a)(t,[{key:"get",value:function(t){return d.a.get("/board/detail/reply/".concat(t))}},{key:"create",value:function(data){return d.a.post("/board/detail/reply/write",data)}},{key:"update",value:function(t,data){return d.a.put("/board/detail/reply/update/".concat(t),data)}},{key:"delete",value:function(t){return d.a.put("/board/detail/reply/deletion/".concat(t))}}]),t}()),c=n(368),v={name:"boardDetails",data:function(){return{input_message:"댓글을 작성해주세요. ",idx:null,replyCounts:0,boards:[],boardReply:{idx:null,profileUrl:"",id:"",insertTime:0,content:""},boardReplies:null,sameId:!1,value:4,count:0,userAuth:localStorage.getItem("user")}},methods:{updateBoardReplies:function(){0==this.sameId?this.sameId=!0:this.sameId=!1},moveTo:function(){this.$router.push("/board/detail/update/"+this.boards.idx)},retrieveReplyCount:function(t){var e=this;c.a.getReplyCount(t).then((function(t){e.replyCounts=t.data})).catch((function(t){alert(t)}))},retrieveCounts:function(t){c.a.detail(t).then((function(){console.log("")}))},retrieveBoardUploadImage:function(t){var e=this;c.a.getDetailFile(t).then((function(t){e.boards=t.data})).catch((function(t){alert(t)}))},deleteBoard:function(){var t=this;c.a.delete(this.boards.idx).then((function(){alert("자유게시판 게시물 삭제 완료"),t.$router.push("/board/list")})).catch((function(t){alert(t)}))},retrieveBoardReply:function(){var t=this;l.get(this.$route.params.idx).then((function(e){t.boardReplies=e.data})).catch((function(t){alert(t)}))},updateBoardReply:function(t,e){l.update(t,e).then((function(){alert("댓글 수정 완료"),location.reload()})).catch((function(t){alert(t)}))},deleteBoardReply:function(t){l.delete(t).then((function(){alert("댓글 삭제 완료"),location.reload()})).catch((function(t){alert(t)}))},saveBoardReply:function(){var t=this,data={idx:this.boardReply.idx,content:this.boardReply.content,userIdx:this.loginIdx,boardIdx:this.boards.idx};l.create(data).then((function(e){t.boardReply=e.data,alert("댓글 등록 완료"),location.reload()})).catch((function(t){alert(t)}))}},mounted:function(){this.loginIdx=JSON.parse(localStorage.getItem("user")).idx,this.retrieveReplyCount(this.$route.params.idx),this.retrieveBoardReply(),this.retrieveBoardUploadImage(this.$route.params.idx),this.retrieveCounts(this.$route.params.idx),null==localStorage.getItem("user")&&(this.$refs.reviewReg.disabled=!0,this.input_message="로그인이 필요합니다",this.$refs.reviewbtn.disabled=!0)}},f=(n(458),n(46)),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("h4",{staticClass:"board-title"},[t._v("\n            "+t._s(t.boards.idx)+" | "+t._s(t.boards.boardTitle)+"\n        ")]),t._v(" "),n("div",{staticClass:"board-info"},[n("div",[this.boards.profileUrl?n("img",{staticClass:"profile-img",attrs:{src:"http://localhost:8000/image/"+t.boards.profileUrl,alt:"프로필"}}):t._e(),t._v("\n                "+t._s(t.boards.id)+"\n            ")]),t._v(" "),n("span",[t._v(t._s(t.boards.insertTime)+" | 조회수 "+t._s(t.boards.count)+" |\n                댓글수 "+t._s(t.replyCounts)+"\n            ")])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"content2"},[n("img",{staticClass:"boardsPic",attrs:{src:t.boards.url,alt:"boardsPic"}})]),t._v(" "),n("div",{staticClass:"content1"},[n("div",{staticClass:"textareas"},[t._v("\n                "+t._s(t.boards.content)+"\n            ")])])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"btns"},[n("button",{staticClass:"btn",attrs:{onclick:"location.href=`/board/list`"}},[t._v("\n            목록\n        ")]),t._v(" "),n("div",{staticClass:"edit-btns"},[n("button",{staticClass:"btn",on:{click:t.moveTo}},[t._v("수정")]),t._v(" "),n("button",{staticClass:"btn",on:{click:t.deleteBoard}},[t._v("삭제")])])]),t._v(" "),n("hr",{staticClass:"divider-row"}),t._v(" "),n("div",{staticClass:"input-container"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.boardReply.content,expression:"boardReply.content"}],ref:"reviewReg",staticClass:"form-control reply-input",class:{reviewDisable:this.userAuth},staticStyle:{height:"100px",width:"900px"},attrs:{placeholder:this.input_message},domProps:{value:t.boardReply.content},on:{input:function(e){e.target.composing||t.$set(t.boardReply,"content",e.target.value)}}}),t._v(" "),n("button",{ref:"reviewbtn",staticClass:"btn",on:{click:t.saveBoardReply}},[t._v("등록")])]),t._v(" "),n("hr"),t._v(" "),n("h6",[t._v("댓글")]),t._v(" "),t._l(t.boardReplies,(function(e,r){return n("div",{key:r,staticClass:"bg-white b p-4 mb-4 restaurant-detailed-ratings-and-reviews"},[n("div",{staticClass:"reviews-members py-4"},[n("div",{staticClass:"media"},[n("a",{attrs:{href:"#"}},[e.profileUrl?n("img",{staticClass:"mr-3 rounded-pill",attrs:{alt:"Generic placeholder image",src:"http://localhost:8000/image/"+e.profileUrl}}):t._e()]),t._v(" "),n("div",{staticClass:"media-body"},[n("div",{staticClass:"reviews-members-header"},[n("h6",{staticClass:"mb-1"},[n("a",{staticClass:"text-black",attrs:{href:"#"}},[t._v(t._s(e.id))])]),t._v(" "),n("p",{staticClass:"text-gray mb-2"},[t._v("\n                            "+t._s(e.insertTime)+"\n                        ")])]),t._v(" "),n("div",{staticClass:"reviews-members-body"},[n("p",[t._v("\n                            "+t._s(e.content)+"\n                        ")])]),t._v(" "),n("div",[n("button",{staticClass:"btn replyBtn",on:{click:t.updateBoardReplies}},[t._v("\n                            수정\n                        ")]),t._v(" "),n("button",{staticClass:"btn replyBtn",on:{click:function(n){return t.deleteBoardReply(e.idx)}}},[t._v("\n                            삭제\n                        ")]),t._v(" "),t.sameId?n("div",{staticStyle:{"margin-top":"10px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"boardReplys.content"}],attrs:{type:"text"},domProps:{value:e.content},on:{input:function(n){n.target.composing||t.$set(e,"content",n.target.value)}}}),t._v(" "),n("button",{staticClass:"btn",on:{click:function(n){return t.updateBoardReply(e.idx,e)}}},[t._v("\n                                확인\n                            ")])]):t._e()])])])]),t._v(" "),n("hr")])}))],2)}),[],!1,null,"586a77ed",null);e.default=component.exports}}]);