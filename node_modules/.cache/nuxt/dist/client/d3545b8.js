(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{364:function(t,e,n){"use strict";var r=n(66),o=n.n(r);e.a=o.a.create({baseURL:"http://localhost:8000/api",headers:{"Content-type":"application/json"}})},369:function(t,e,n){"use strict";var r=n(23),o=n(24),l=n(364),c=function(){function t(){Object(r.a)(this,t)}return Object(o.a)(t,[{key:"upload",value:function(title,content,t,e,n){var r=new FormData;return r.append("title",title),r.append("content",content),r.append("userIdx",t),r.append("file",e),l.a.post("/inform/upload",r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n})}},{key:"getReplyCount",value:function(t){return l.a.get("/inform/detail/replyCount/".concat(t))}},{key:"getAllFiles",value:function(){return l.a.get("/inform/files/all")}},{key:"topThree",value:function(){return l.a.get("/inform/topthree/all")}},{key:"getFiles",value:function(t){return l.a.get("/inform/files/".concat(t))}},{key:"getDetailFiles",value:function(t){return l.a.get("/inform/files/detail/".concat(t))}},{key:"getAll",value:function(){return l.a.get("/inform/list")}},{key:"get",value:function(t){return l.a.get("/inform/detail/".concat(t))}},{key:"create",value:function(data){return l.a.post("/inform/write",data)}},{key:"update",value:function(t,data){return l.a.put("/inform/detail/update/".concat(t),data)}},{key:"delete",value:function(t){return l.a.put("/inform/deletion/".concat(t))}}]),t}();e.a=new c},400:function(t,e,n){var content=n(449);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("3988b750",content,!0,{sourceMap:!1})},448:function(t,e,n){"use strict";n(400)},449:function(t,e,n){var r=n(58)(!1);r.push([t.i,".btn[data-v-40a99fd1],hr[data-v-40a99fd1]{background-color:#a30000}.btn[data-v-40a99fd1]{border:none;color:#fff;margin-left:auto}.preview[data-v-40a99fd1]{max-width:200px}",""]),t.exports=r},519:function(t,e,n){"use strict";n.r(e);n(1),n(48),n(51),n(365),n(250);var r=n(369),o={name:"inform-detail-write",data:function(){return{inform:{idx:null,title:"",content:"",userIdx:141,currentImage:null,imageInfo:[]},submitted:!1,previewImage:void 0,progress:0,message:""}},methods:{selectImage:function(){this.inform.currentImage=this.$refs.file.files.item(0),this.previewImage=URL.createObjectURL(this.inform.currentImage),this.progress=0,this.message=""},upload:function(){var t=this;this.progress=0,r.a.upload(this.inform.title,this.inform.content,this.inform.userIdx,this.inform.currentImage,(function(e){t.progress=Math.round(100*e.loaded/e.total)})).then((function(e){alert("여행정보 게시물 작성 완료"),t.$router.push("/inform/list")})).catch((function(e){t.progress=0,t.message="Could not upload the image!"+e,t.board.currentImage=void 0}))}}},l=(n(448),n(46)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),t.submitted?t._e():n("div",[n("span",{staticClass:"btns"},[n("input",{staticClass:"writeBtn btn mt-2",attrs:{type:"button",value:"이전",onclick:"location.href='/inform/list'"}}),t._v(" "),n("button",{staticClass:"writeBtn btn mt-2",on:{click:t.upload}},[t._v("등록")])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"form-group mt-4"},[n("label",[t._v("제목")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inform.title,expression:"inform.title"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1",placeholder:"제목을 입력해 주세요."},domProps:{value:t.inform.title},on:{input:function(e){e.target.composing||t.$set(t.inform,"title",e.target.value)}}})]),t._v(" "),n("div",[n("p",[t._v("내용")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inform.content,expression:"inform.content"}],attrs:{cols:"147",rows:"20"},domProps:{value:t.inform.content},on:{input:function(e){e.target.composing||t.$set(t.inform,"content",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"container pt-5"},[n("h5",{staticClass:"mb-2"},[t._v("이미지 업로드")]),t._v(" "),n("h6",{staticClass:"mb-4"},[t._v("\n            ( 파일은 최소 1개 이상 첨부하여야 게시물 등록이 완료됩니다. )\n        ")]),t._v(" "),n("div",{staticClass:"row justify-content-md-left"},[n("div",{staticClass:"col-8"},[n("label",{staticClass:"btn btn-default p-0"},[n("input",{ref:"file",attrs:{type:"file",accept:"image/*"},on:{change:t.selectImage}})])])]),t._v(" "),t.inform.currentImage?n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-info",style:{width:t.progress+"%"},attrs:{role:"progressbar","aria-valuenow":t.progress,"aria-valuemin":"0","aria-valuemax":"100"}},[t._v("\n                "+t._s(t.progress)+"\n            ")])]):t._e(),t._v(" "),t.previewImage?n("div",[n("div",[n("img",{staticClass:"preview my-3",attrs:{src:t.previewImage,alt:"previewImage"}})])]):t._e(),t._v(" "),t.message?n("div",{staticClass:"alert alert-secondary",attrs:{role:"alert"}},[t._v("\n            "+t._s(t.message)+"\n        ")]):t._e(),t._v(" "),t._l(t.inform.imageInfo,(function(image,e){return n("div",{key:e,staticClass:"card mt-3"},[n("div",{staticClass:"card-header"},[t._v("이미지 번호 : "+t._s(image.fileId))]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-5 col-md-offset-0"},[n("figure",[n("img",{staticClass:"img-thumbnail",attrs:{src:image.url}})])]),t._v(" "),n("div",{staticClass:"col-md-6 col-md-offset-0 description"},[n("p",{domProps:{innerHTML:t._s(image.fileName)}}),t._v(" "),n("p",{staticClass:"price"},[t._v(t._s(image.url))])])])])}))],2)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-5"},[n("h5",{staticClass:"text-center mb-5"},[t._v("여행정보 글쓰기")])])}],!1,null,"40a99fd1",null);e.default=component.exports}}]);